{% extends "base_nav.html" %}

{% load crispy_forms_tags %}
{% load static %}
{% load tags %}

{% block content %}
<div class="row">
  <div class="col-md-12">
    <p>
      <a href="{{ api_endpoint }}">API link</a>.
    </p>

    {% crispy form %}

    {% if data %}
      <h3>Results</h3>

      <table class="table table-striped">
        <tr>
          <th>Number of {% bootstrap_tag "SWC" %} workshops:</th>
          <td>{{ data.workshops.SWC|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of {% bootstrap_tag "DC" %} workshops:</th>
          <td>{{ data.workshops.DC|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of {% bootstrap_tag "LC" %} workshops:</th>
          <td>{{ data.workshops.LC|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of All Carpentries workshops:</th>
          <td>{{ data.workshops.carpentries|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of {% bootstrap_tag "TTT" %} workshops:</th>
          <td>{{ data.workshops.TTT|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of {% bootstrap_tag "WiSE" %} workshops:</th>
          <td>{{ data.workshops.WiSE|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of self-organized workshops:</th>
          <td>{{ data.workshops.self_organized|default:"0" }}</td>
        </tr>
        <tr>
          <th>Total number of instructors in {% bootstrap_tag "SWC" %} workshops:</th>
          <td>{{ data.instructors.SWC.total|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of unique instructors in {% bootstrap_tag "SWC" %} workshops:</th>
          <td>{{ data.instructors.SWC.unique|default:"0" }}</td>
        </tr>
        <tr>
          <th>Total number of instructors in {% bootstrap_tag "DC" %} workshops:</th>
          <td>{{ data.instructors.DC.total|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of unique instructors in {% bootstrap_tag "DC" %} workshops:</th>
          <td>{{ data.instructors.DC.unique|default:"0" }}</td>
        </tr>
        <tr>
          <th>Total number of instructors in {% bootstrap_tag "LC" %} workshops:</th>
          <td>{{ data.instructors.LC.total|default:"0" }}</td>
        </tr>
        <tr>
          <th>Number of unique instructors in {% bootstrap_tag "LC" %} workshops:</th>
          <td>{{ data.instructors.LC.unique|default:"0" }}</td>
        </tr>
        <tr>
          <th>Total number of learners in {% bootstrap_tag "SWC" %} workshops:</th>
          <td>{{ data.learners.SWC|default:"0" }}</td>
        </tr>
        <tr>
          <th>Total number of learners in {% bootstrap_tag "DC" %} workshops:</th>
          <td>{{ data.learners.DC|default:"0" }}</td>
        </tr>
        <tr>
          <th>Total number of learners in {% bootstrap_tag "LC" %} workshops:</th>
          <td>{{ data.learners.LC|default:"0" }}</td>
        </tr>
        <tr>
          <th>Workshops with missing instructors:</th>
          <td>
            {% for slug in data.missing.instructors %}
              <a href="{% url 'event_details' slug %}">{{ slug }}</a>,
            {% empty %}
              None.
            {% endfor %}
          </td>
        </tr>
        <tr>
        <th>Workshops with missing attendance:</th>
          <td>
            {% for slug in data.missing.attendance %}
              <a href="{% url 'event_details' slug %}">{{ slug }}</a>,
            {% empty %}
              None.
            {% endfor %}
          </td>
        </tr>
      </table>
    {% endif %}
  </div>
</div>
{% endblock %}
